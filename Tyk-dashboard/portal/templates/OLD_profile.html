{{ define "profilePage" }}


{{ template "header" .}}


  <body>
  
  	{{ template "navigation" . }}

    <div>
    	
    	<div class="container" style="margin-top: 80px;">
    		<div class="row">
    			<div class="col-md-10">
    			<h1>Edit your profile</h1>
    			
    			{{ if .Error  }}
    				
					<div class="panel panel-danger">
						<div class="panel-body">
							{{.Error}}
							{{ if .ValidationErrors }}
							<ul>
									{{range $e := .ValidationErrors}}
									<li>{{$e}}</li>
									{{end}}
							</ul>
							{{ end }}
						</div>
					</div>
				
				{{ end }}
				
				{{ if .Updated }}
				
				<div class="panel panel-success">
					<div class="panel-body">
						<p>
						Profile updated sucessfully.
						</p>
					</div>
				</div>
				
				{{ end }}
				
				
			<div class="panel panel-primary" id="edit-profile-panel">
			  <div class="panel-heading">
			    <h3 class="panel-title">Profile</h3>
			  </div>
			  <div class="panel-body">
				<form action="" method="POST">
					<div class="form-group">
						<label for="username">Email address</label>
						<input type="email" class="form-control" id="username" name="username" placeholder="Enter email" value="{{.Developer.Email}}">
					</div>

					<div class="form-group">
						<label for="password">New password</label>
						<input type="password" class="form-control" id="password" name="password" placeholder="Enter new password">
						<small class="form-text text-muted">Leave blank to keep the current password.</small>
					</div>

					<div class="form-group">
						<label for="password_confirmation">New password confirmation</label>
						<input type="password" class="form-control" id="password_confirmation" name="password_confirmation" placeholder="Enter new password again">
					</div>

					{{ if .PortalConfig.SignUpFields }}
					<!-- You can set these in the portal admin, then add the relevant form fields in here -->
						{{ $devFields := .Developer.Fields}}
						{{range $fieldname := .PortalConfig.SignUpFields}}
							<div class="form-group">
								<label for="{{$fieldname}}">{{$fieldname}}</label>
								<input type="text" class="form-control" id="{{$fieldname}}" name="{{$fieldname}}" 
								placeholder=""
								value='{{index $devFields $fieldname}}'>
							</div>
						{{ end }}
					
					{{ end }}
					
					<input type="submit" class="btn btn-success" value="Update"></button>
				</form>
			  </div>
			</div>
		</div>
    			
				<div class="col-md-2">
    				{{ template "portalMemberNavigation" . }}
    			</div>
    			
    		</div>    		
    		
    	</div>
    	
    </div>

	  {{ template "footer" .}}
      
    </div> <!-- /container -->


    {{ template "scripts" .}}
  </body>
</html>



{{ end }}